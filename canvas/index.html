<!DOCTYPE html>
<html>
<body>
<h1>HTML5 Canvas - Draw a Rectangle</h1>

<canvas id="myCanvas" width="1500" height="600" style="border:1px solid black;">
Sorry, your browser does not support canvas.
</canvas>

<script>
    const canvas = document.getElementById("myCanvas");
    const ctx = canvas.getContext("2d");
    ctx.fillStyle = "purple";
    ctx.fillRect(30,0,150,75);

    // rajzolj egy kit√∂lt√∂tt k√©k k√∂rlapot
    ctx.beginPath();
    ctx.arc(95, 50, 40, 0, 2 * Math.PI);
    ctx.fillStyle = "blue";
    ctx.fill();

    // egyedi z√∂ld: z√∂ldf√∂ld" sz√≠nk√≥d: #556B2F

    // Arial bet≈±t√≠pus, 30px bet≈± magass√°ga pixelben
    const textHeight = 30;

    // soremeles: 5 pixel
    const lineHeight = textHeight + 5;

    //sz√∂veg feliratot √≠rj a canvasra sz√∂veg: "Hello World!"
    ctx.font = `${textHeight}px Arial`;
    ctx.fillStyle = "#556B2F" ;
    ctx.fillText("Hell√≥ üöÅ", 200, 500);


    // lista "a", "b" , "c" sz√∂vegekkel
    const list = ["alma", "b√©ka", "c√©kla", "d√©n√°r", "elef√°nt", "f≈±r√©sz", "g√©p", "h√°z", "√≠j", "j√©g", "k≈ë", "l√≥", "m√°lna", "n√°d", "√≥ra", "pap√≠r", "r√≥ka", "s√∂r", "t√≥", "√∫t", "v√≠z", "xilofon", "yoyo", "z√∂ld"];
    var xPos = 100;
    var yPos = 150;
    list.forEach((item, index) => {
        // sz√∂veg sz√©less√©g pixelben
        const textWidth = ctx.measureText(item).width;
        if (xPos + textWidth > (canvas.width/2)) {
            xPos = 100;
            yPos += lineHeight;
        }
        ctx.fillText(item, xPos, yPos);
        xPos += textWidth + 10;

    });

    const clockX = 50;
    const clockY = 40;

    // kim√°soljuk a canvas egy ter√ºlet√©t
    const imgData = ctx.getImageData(clockX, clockY, 500, 30);

    const timeInterval = 300;

    function fetchAndDisplayTime() {
        //requestAnimationFrame(fetchAndDisplayTime);
        setTimeout(fetchAndDisplayTime, timeInterval);

        const time = new Date().toLocaleTimeString();

        ctx.putImageData(imgData, clockX, clockY);

        // // draw white rectangle
        // ctx.fillStyle = "white";
        // ctx.fillRect(100, 100, 500, 30);

        // id≈ë sz√≠ne piros
        ctx.fillStyle = "red";
        ctx.fillText(time, clockX, clockY+30);


        // fetch("http://worldtimeapi.org/api/timezone/Europe/Budapest")
        //     .then(response => response.json())
        //     .then(data => {
        //         //console.log(data);
        //         const time = data.datetime;

        //         // clear canvas
        //         ctx.clearRect(0, 0, canvas.width, canvas.height);

        //         // vissza√°ll√≠tjuk a canvas eredeti tartalm√°t
        //         //ctx.putImageData(imgData, 100, 100);
                
        //         ctx.fillText(time, 100, 100);
        //     });
    }

    // H√≠vjuk meg a f√ºggv√©nyt 800ms-onk√©nt
    //setTimeout(fetchAndDisplayTime, timeInterval);
    fetchAndDisplayTime();


</script>

</body>
</html>

